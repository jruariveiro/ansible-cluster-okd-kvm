[OSEv3:children]
masters
etcd
nodes
{% if (groups.masters | length) > 1 %}
lb
{% endif %}
{% if groups.nfs is defined %}
nfs
{% endif %}

[masters]
{% for item in groups.masters -%}
{{item}}
{% endfor %}

[etcd]
{% for item in groups.etcd -%}
{{item}}
{% endfor %}

{% if (groups.masters | length) >1 %}
[lb]
{% for item in groups.lb -%}
{{item}}
{% endfor %}
{% endif %}

{% if groups.nfs is defined %}
[nfs]
{% for item in groups.nfs -%}
{{item}}
{% endfor %}
{% endif %}

[nodes]
{% for item in groups.nodes -%}
{{item}} openshift_node_group_name='{{ hostvars[item].openshift_node_group_name }}'
{% endfor %}

[OSEv3:vars]

